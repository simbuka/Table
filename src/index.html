<!DOCTYPE html>
<html dir="ltr" lang="en">
	<head>
		<meta charset="utf-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
		/>
		<title>Simbuka Frontend Functional Table library</title>

		<link
			href="https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css"
			rel="stylesheet"
		/>
		<script src="/build/table.js"></script>
	</head>
	<body>
		<div class="flex flex-row mt-12 mx-4">
			<sfl-table id="table1" class="w-full mx-8">
				<div slot="header">
					<sfl-table-header-row>
						<div slot="checkbox" class="pl-4">
							<input type="checkbox" />
						</div>
					</sfl-table-header-row>
				</div>

				<div slot="body">
					<sfl-table-body-row>
						<div slot="checkbox" class="pl-4">
							<input type="checkbox" />
						</div>
						<div slot="buttons" class="px-4 text-2xl cursor-pointer">
							&times;
						</div>
					</sfl-table-body-row>
					<sfl-table-body-row>
						<div slot="checkbox" class="pl-4">
							<input type="checkbox" />
						</div>
						<div slot="buttons" class="px-4 text-2xl cursor-pointer">
							&times;
						</div>
					</sfl-table-body-row>
					<sfl-table-body-row>
						<div slot="checkbox" class="pl-4">
							<input type="checkbox" />
						</div>
						<div slot="buttons" class="px-4 text-2xl cursor-pointer">
							&times;
						</div>
					</sfl-table-body-row>
					<sfl-table-body-row>
						<div slot="checkbox" class="pl-4">
							<input type="checkbox" />
						</div>
						<div slot="buttons" class="px-4 text-2xl cursor-pointer">
							&times;
						</div>
					</sfl-table-body-row>
					<sfl-table-body-row>
						<div slot="checkbox" class="pl-4">
							<input type="checkbox" />
						</div>
						<div slot="buttons" class="px-4 text-2xl cursor-pointer">
							&times;
						</div>
					</sfl-table-body-row>
					<sfl-table-body-row>
						<div slot="checkbox" class="pl-4">
							<input type="checkbox" />
						</div>
						<div slot="buttons" class="px-4 text-2xl cursor-pointer">
							&times;
						</div>
					</sfl-table-body-row>
					<sfl-table-body-row>
						<div slot="checkbox" class="pl-4">
							<input type="checkbox" />
						</div>
						<div slot="buttons" class="px-4 text-2xl cursor-pointer">
							&times;
						</div>
					</sfl-table-body-row>
					<sfl-table-body-row>
						<div slot="checkbox" class="pl-4">
							<input type="checkbox" />
						</div>
						<div slot="buttons" class="px-4 text-2xl cursor-pointer">
							&times;
						</div>
					</sfl-table-body-row>
				</div>

				<div slot="pagination">
					<sfl-table-pagination></sfl-table-pagination>
				</div>
			</sfl-table>

			<sfl-table id="table2" class="w-full mx-8">
				<div slot="header">
					<sfl-table-header-row>
						<div slot="checkbox" class="pl-4">
							<input type="checkbox" />
						</div>
					</sfl-table-header-row>
				</div>

				<div slot="body"></div>
			</sfl-table>
		</div>

		<script>
			const rows = [
				{
					values: ['Green', 'Chad', '1990-05-11'],
					instanceId: 1
				},
				{
					values: ['King', 'Tom', '1979-01-31'],
					instanceId: 2
				},
				{
					values: ['Green', 'Tom', '1972-12-07'],
					instanceId: 3
				},
				{
					values: ['Cooper', 'Martin', '1993-01-22'],
					instanceId: 4
				},
				{
					values: ['Doe', 'John', '1970-03-25'],
					instanceId: 5
				},
				{
					values: ['Brown', 'Bob', '1985-07-26'],
					instanceId: 6
				},
				{
					values: ['Jones', 'Adam', '1993-01-27'],
					instanceId: 7
				},
				{
					values: ['Johnson', 'Rick', '1988-11-05'],
					instanceId: 8
				},
				{
					values: ['Ignatiadi', 'Anna', '1995-09-06'],
					instanceId: 9
				},
				{
					values: ['Mfura', 'Yves', '1995-05-01'],
					instanceId: 10
				},
				{
					values: ['Zanden', 'Mark', '1990-01-01'],
					instanceId: 11
				},
				{
					values: ['test', 'test', '1990-01-30'],
					instanceId: 12
				},
				{
					values: ['Willems', 'Kim', '1988-05-25'],
					instanceId: 13
				}
			];
			const columns = [
				{ name: 'Family name', sort: 'asc' },
				{ name: 'Given name', sort: 'none' },
				{ name: 'Birth name', sort: 'none' }
			];

			document.querySelectorAll('sfl-table-header-row').forEach(row => {
				row.columns = columns;
			});
			document.querySelectorAll('sfl-table-body-row').forEach((row, index) => {
				row.row = rows[index];
			});

			const pagination1 = document.querySelector(
				'sfl-table#table1 sfl-table-pagination'
			);
			pagination1.foundText = 'Showing 1 - 8 (11 results were found in total)';
			pagination1.activeNext = true;

			document.querySelector('sfl-table#table2').noResults = true;

			document.querySelectorAll('sfl-table').forEach(table => {
				table.addEventListener('onSortChange', event => {
					event.stopPropagation();
					console.log('Event onSortChange:', event.detail);
				});

				table.addEventListener('onPageChange', event => {
					event.stopPropagation();
					console.log('Event onPageChange:', event.detail);
				});
			});
		</script>
	</body>
</html>
